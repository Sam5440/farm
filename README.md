# 国服pcr封包农场
ellye、伊蕾娜、路路联合开发。女生自用。与pcr的通信基于pcrjjc2。

## 使用前准备

1. 在```account.json```中，account和password写入担任会长的农场号账密(str)；admin填入你的qq号(int)；accounts中填入其他农场号账密（任意多个）。**待程序运行，会长农场号将自动填入accounts（若原来不在）。**
2. 在```__init__.py```开头，请更改```house_name```为你的公会名，```bot_name```为你喜欢的（别人对你的bot的）称呼。
3. 清空你的农场中的活人，将农场设置为仅可通过邀请进入。**务必保证担任会长的农场号账密和```account.json```中填写的一致。**
4. 本插件被设计为强制通过私聊响应，包括主动触发指令和被动通知。**请通知所有使用您的农场的人添加bot为好友。**


## 指令及功能
### 加入农场 <pcrid>
pcrid为(b服)个人简介内13位数字。bot将验证你的pcrid。验证通过后，将登记你的qq号和pcrid，并向您发出邀请。

如果您登记成功，pcr账号业已不在任何公会，但bot提示**对方拒绝接受邀请**，请登录pcr并依次点击：主页->行会->邀请，在弹出的提示框中选择允许接受邀请。

### 退出农场
去打会战吧！

### (当您在pcr中发起捐赠时)
bot发现请求后会私聊。

bot全部捐赠完毕后会再次私聊，告知哪些bot完成了您的捐赠。说，谢谢ebq。

### (当距离您的上次捐赠请求8H或24H时)
bot会私聊提醒你发起捐赠。

为了简化操作，没有取消该订阅的指令。您可以将bot设置为免打扰。

## 仅管理有效指令

### 今日捐赠
按已捐赠数顺序，返回所有农场号今日已捐赠数。

###  (当某个农场号缺少装备时)
bot会向管理员通知。

### 农场刷图 <bot编号> <要刷的图>
- 若不指定编号则为全体农场号。
- bot编号可以发送[今日捐赠]查询。
- 仅支持主线关卡中的普通关卡。
- 会把bot当前拥有的体力和礼物箱内的体力全部刷完；若体力<=20则会买一管体力在刷。

举例：```农场刷图 0 14-12```

### 农场人员
返回所有被授权人员的id和名字

### 农场踢除 <pcrid>

### 农场清空

### validateFarm [manual|auto]
切换手动/自动过码。默认自动。每次重启插件后会恢复默认。

## todo
- 装备不足时根据id查询图自动刷装备。
- 上述实现后，每日bot领取日常后根据装备数量排序刷图。
- 更多日常：刷取探索、心碎、星球杯等

——以下是pcrjjc2的README的抬头——

# pcrjjc2

本插件是[pcrjjc](https://github.com/lulu666lulu/pcrjjc)重置版，不需要使用其他后端api，但是需要自行配置客户端  
[项目地址](https://github.com/qq1176321897/pcrjjc2)

**本项目基于AGPL v3协议开源，由于项目特殊性，禁止基于本项目的任何商业行为**